import{d as h,j as d,v as y,x as j,R as S,P as M,I as _,$ as v,r as g,a0 as O,M as x}from"./CzBjnivM.js";import{_ as A}from"./DlAUqK2U.js";const k=h({__name:"Button",props:{size:{type:String,default:"md"},bgColor:{type:String,default:"var(--surface-default)"}},setup(e){const t=e,c=d(()=>{switch(t.size){case"xs":return"1rem";case"sm":return"1.5rem";case"md":return"2rem";case"lg":return"4rem";case"xl":return"8rem"}});return(r,o)=>(y(),j("button",{type:"button",class:"base-button",style:M([{"--size":_(c)},{"--bg-color":e.bgColor}])},[S(r.$slots,"default",{},void 0,!0)],4))}}),D=A(k,[["__scopeId","data-v-e1e291e2"]]),C=Object.freeze(Object.defineProperty({__proto__:null,default:D},Symbol.toStringTag,{value:"Module"}));function E(e){let t=[];return Object.keys(e).forEach(c=>{b(t,0,c,e[c])}),t.map(c=>c.join(",")).join(`
`)}function b(e,t,c,r){m(e,e.length);let o=e[e.length-1];o[t]=c,Object.keys(r).forEach(n=>{const s=r[n];typeof s=="object"&&!Array.isArray(s)?b(e,t+1,n,s):Array.isArray(s)?z(e,t+1,n,s):(m(e,e.length),o=e[e.length-1],o[t+1]=n,o[t+2]=s)})}function z(e,t,c,r){m(e,e.length);let o=e[e.length-1];o[t]=c,r.forEach((n,s)=>{o[t+1+s]=n})}function m(e,t){e[t]||(e[t]=[])}function p(e,t,c){let r,o;if(c==="csv")r=E(e),o="text/csv;charset=utf-8;";else if(c==="json")r=JSON.stringify(e,null,2),o="application/json;charset=utf-8;";else throw new Error("Unsupported file type");const n=new Blob([r],{type:o}),s=URL.createObjectURL(n),l=document.createElement("a");l.href=s,l.download=t,l.click(),URL.revokeObjectURL(s)}function U(e){const t=e.trim().split(`
`).map(o=>o.split(",")),c={},r=[{obj:c,key:null}];return t.forEach(o=>{let n=o.findIndex(f=>f.trim()!=="");const s=o[n].trim(),l=o.slice(n+1).filter(f=>f.trim()!=="");r.length=n+1,l.length===0?(r[n].obj[s]={},r.push({obj:r[n].obj[s],key:s})):l.length===1?r[n].obj[s]=l[0]:r[n].obj[s]=l}),c}const B=v("Managers",()=>{const e=g([]),t=g(),c=a=>{e.value.push(a)},r=(a,i)=>{const u=n(l.value);e.value[u].name=a,e.value[u].icon=i,s(a)},o=a=>{e.value.splice(a,1)},n=a=>e.value.indexOf(a),s=a=>{t.value=a},l=d(()=>e.value.find(a=>a.name===t.value));return{managers:e,addManager:c,updateManager:r,removeManager:o,getManagerIndex:n,setActiveManager:s,getActiveManager:l,downloadManager:(a="PDF")=>{if(!l.value){console.error("No data to download.");return}const{name:i,data:u}=l.value;a==="PDF"?p(u,i,"csv"):p(u,i,"json")}}},{persist:{storage:O.cookiesWithOptions({maxAge:31536e4})}}),F=v("data manager",()=>{const e=B(),t=g(),c=()=>{var a;t.value=(a=e.getActiveManager)==null?void 0:a.data},r=d(()=>{const a=e.getActiveManager;if(!a||!a.data)return[];const i=a.data;return Object.keys(i)});x([r,t],()=>{c()});const o=a=>{t.value&&(t.value[a]={})},n=g(""),s=a=>{n.value=a},l=d(()=>{if(!t.value)return{};if(n.value)return t.value[n.value];const a={};return Object.keys(t.value).forEach(u=>{t.value&&Object.assign(a,t.value[u])}),a});return{data:t,getSections:r,addNewKey:o,filter:n,setFilter:s,filteredData:l,updateData:a=>{!t.value||!n.value||(t.value[n.value]=a)}}});export{C as B,D as _,F as a,U as c,B as u};
