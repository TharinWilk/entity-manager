const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./DTNMZYRt.js","./CeOufcMx.js","./entry.DAiuen1A.css","./DlAUqK2U.js","./Popover.brUzV0It.css"])))=>i.map(i=>d[i]);
import{d as T,r as p,v as f,x as b,y as l,z as S,A as g,B as D,C as I,F as w,G as L,H as A,I as h,J as O,K as V,_ as N,L as P,T as j,M}from"./CeOufcMx.js";import R from"./CRro2YVY.js";import{_ as $,u as q}from"./CgoPs-Uf.js";import{_ as F}from"./DlAUqK2U.js";import"./B8GynfbW.js";const G=V(()=>N(()=>import("./DTNMZYRt.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url).then(c=>c.default||c)),K={class:"flex justify-between items-center border-b border-[var(--text-secondary)] pb-2 relative"},X={class:"text-3xl capitalize"},Y={ref:"dialogContent",class:"grid gap-3"},H={class:"py-2"},J=T({__name:"Card",props:{data:{type:Object,default:void 0}},setup(c){const d=p(),r=p(!1),m=n=>{n.preventDefault(),r.value=!0},k=n=>{n.preventDefault(),r.value=!1},i=p(),C=()=>{var n,v,a;(n=i.value)!=null&&n.open?(a=i.value)==null||a.close():(v=i.value)==null||v.show()};return(n,v)=>{const a=R,e=$,u=G;return c.data?(f(),b("div",{key:0,ref_key:"card",ref:d,class:A(["card bg-[var(--surface-lightened)] p-2 rounded-lg duration-500 relative",{dragging:h(r)}]),onDrag:m,onDragend:k},[l("div",K,[l("h2",X,S(c.data.key),1),g(e,{"bg-color":"var(--surface-lightened)",class:"button-icon cursor-pointer p-1 grid place-items-center border relative",onClick:C},{default:D(()=>[g(a,{name:"mdi:dots-vertical",class:"h-6 w-6"})]),_:1}),g(u,{ref_key:"popover",ref:i,class:"top-0 left-[35%]"},{default:D(()=>[l("div",Y,[g(e,{size:"xs",class:"text-base",autofocus:""},{default:D(()=>[I("Duplicate")]),_:1}),g(e,{size:"xs",class:"text-base"},{default:D(()=>[I("Delete")]),_:1})],512)]),_:1},512)]),l("div",H,[(f(!0),b(w,null,L(c.data.value,(s,t)=>(f(),b("div",{key:t},[l("span",null,[l("strong",null,S(t)+":",1),I(" "+S(s),1)])]))),128))])],34)):O("",!0)}}}),Q=F(J,[["__scopeId","data-v-084de334"]]),U={class:"grid place-items-center p-4 sm:p-8 lg:p-12 gap-8"},W=l("h1",{class:"text-4xl"},"Main Content",-1),se=T({__name:"index",setup(c){const d=q(),r=p(),m=p(!1),k=a=>{if(!r.value||!d.filter)return;const e=r.value.querySelector(".card.dragging"),u=Array.from(r.value.querySelectorAll(".card:not(.dragging)")),s=a.clientY,t=a.clientX;for(const x of u){const o=x.getBoundingClientRect();if(s>=o.top&&s<=o.bottom&&t>=o.left&&t<=o.right){if(m.value)return;const y=e.dataset.key,_=x.dataset.key;if(!y||!_)return;C(y,_),m.value=!0,setTimeout(()=>{m.value=!1},300)}}},{data:i,updateDataIndexing:C,updateStoredData:n}=v(d);function v(a){const e=p(a.filteredData);return P(()=>a.filteredData,()=>{e.value=a.filteredData}),{data:e,updateDataIndexing:(t,x)=>{if(!e.value||!(t in e.value)||!(x in e.value))return;const o=Object.keys(e.value),y=o.indexOf(t),_=o.indexOf(x);if(_<0||_>=o.length)return;const B=[...o];B.splice(y,1),B.splice(_,0,t);const z={};B.forEach(E=>{z[E]=e.value[E]}),e.value=z},updateStoredData:()=>{setTimeout(()=>{d.updateData(e.value)},300)}}}return(a,e)=>{const u=Q;return f(),b("main",U,[W,l("section",{ref_key:"dataList",ref:r,onDragover:k,onDragend:e[0]||(e[0]=(...s)=>h(n)&&h(n)(...s))},[g(j,{name:"card",tag:"div",class:"grid grid-cols-2 gap-8"},{default:D(()=>[(f(!0),b(w,null,L(h(i),(s,t)=>(f(),M(u,{key:t,data:{value:s,key:t},"data-key":t,draggable:!!h(d).filter},null,8,["data","data-key","draggable"]))),128))]),_:1})],544)])}}});export{se as default};
