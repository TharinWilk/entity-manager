const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CiBU1fgn.js","./CMyMP_Ly.js","./entry.DAiuen1A.css","./DlAUqK2U.js","./Popover.brUzV0It.css"])))=>i.map(i=>d[i]);
import{d as A,r as v,v as x,x as k,y as l,z as C,A as p,B as b,C as w,F as L,G as N,H as O,I as m,J as V,K as j,_ as M,L as P,M as R,T as $,N as q}from"./CMyMP_Ly.js";import F from"./DAe8SwUm.js";import{_ as G,u as H,a as K}from"./zdSoBpvb.js";import{_ as X}from"./DlAUqK2U.js";import"./uMVcZGof.js";const Y=j(()=>M(()=>import("./CiBU1fgn.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url).then(c=>c.default||c)),J={class:"flex justify-between items-center border-b border-[var(--text-secondary)] pb-2 relative"},Q={class:"text-3xl capitalize"},U={ref:"dialogContent",class:"grid gap-3"},W={class:"py-2"},Z=A({__name:"Card",props:{data:{type:Object,default:void 0}},setup(c){const B=v(),D=v(!1),u=a=>{a.preventDefault(),D.value=!0},_=a=>{a.preventDefault(),D.value=!1},r=v(),I=()=>{var a,h,d;(a=r.value)!=null&&a.open?(d=r.value)==null||d.close():(h=r.value)==null||h.show()};return(a,h)=>{const d=F,y=G,n=Y;return c.data?(x(),k("div",{key:0,ref_key:"card",ref:B,class:O(["card bg-[var(--surface-lightened)] p-2 rounded-lg duration-500 relative",{dragging:m(D)}]),onDrag:u,onDragend:_},[l("div",J,[l("h2",Q,C(c.data.key),1),p(y,{"bg-color":"var(--surface-lightened)",class:"button-icon cursor-pointer p-1 grid place-items-center border relative",onClick:I},{default:b(()=>[p(d,{name:"mdi:dots-vertical",class:"h-6 w-6"})]),_:1}),p(n,{ref_key:"popover",ref:r,class:"top-0 left-[35%]"},{default:b(()=>[l("div",U,[p(y,{size:"xs",class:"text-base",autofocus:""},{default:b(()=>[w("Duplicate")]),_:1}),p(y,{size:"xs",class:"text-base"},{default:b(()=>[w("Delete")]),_:1})],512)]),_:1},512)]),l("div",W,[(x(!0),k(L,null,N(c.data.value,(e,i)=>(x(),k("div",{key:i},[l("span",null,[l("strong",null,C(i)+":",1),w(" "+C(e),1)])]))),128))])],34)):V("",!0)}}}),ee=X(Z,[["__scopeId","data-v-084de334"]]),te={class:"grid place-items-center p-4 sm:p-8 lg:p-12 gap-8"},ae={class:"text-4xl"},ce=A({__name:"index",setup(c){const B=H(),{getActiveManager:D}=P(B),u=K(),_=v(),r=v(!1),I=n=>{if(!_.value||!u.filter)return;const e=_.value.querySelector(".card.dragging"),i=Array.from(_.value.querySelectorAll(".card:not(.dragging)")),g=n.clientY,t=n.clientX;for(const s of i){const o=s.getBoundingClientRect();if(g>=o.top&&g<=o.bottom&&t>=o.left&&t<=o.right){if(r.value)return;const S=e.dataset.key,f=s.dataset.key;if(!S||!f)return;h(S,f),r.value=!0,setTimeout(()=>{r.value=!1},300)}}},{data:a,updateDataIndexing:h,updateStoredData:d}=y(u);function y(n){const e=v(n.filteredData);return R(()=>n.filteredData,()=>{e.value=n.filteredData}),{data:e,updateDataIndexing:(t,s)=>{if(!e.value||!(t in e.value)||!(s in e.value))return;const o=Object.keys(e.value),S=o.indexOf(t),f=o.indexOf(s);if(f<0||f>=o.length)return;const T=[...o];T.splice(S,1),T.splice(f,0,t);const z={};T.forEach(E=>{z[E]=e.value[E]}),e.value=z},updateStoredData:()=>{setTimeout(()=>{u.updateData(e.value)},300)}}}return(n,e)=>{var g;const i=ee;return x(),k("main",te,[l("h1",ae,C(((g=m(D))==null?void 0:g.name)||"Hello"),1),l("section",{ref_key:"dataList",ref:_,class:"w-full",onDragover:I,onDragend:e[0]||(e[0]=(...t)=>m(d)&&m(d)(...t))},[p($,{name:"card",tag:"div",class:"grid gap-8 grid-cols-1 sm:grid-cols-[repeat(auto-fit,_minmax(400px,_1fr))] justify-center"},{default:b(()=>[(x(!0),k(L,null,N(m(a),(t,s)=>(x(),q(i,{key:s,data:{value:t,key:s},"data-key":s,draggable:!!m(u).filter},null,8,["data","data-key","draggable"]))),128))]),_:1})],544)])}}});export{ce as default};
